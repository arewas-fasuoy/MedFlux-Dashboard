<!DOCTYPE html>
<html lang="english">
  <head>
    <title>Admin - exported project</title>
    <meta property="og:title" content="Admin - exported project" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta charset="utf-8" />
    <meta property="twitter:card" content="summary_large_image" />

    <style data-tag="reset-style-sheet">
      html {  line-height: 1.15;}body {  margin: 0;}* {  box-sizing: border-box;  border-width: 0;  border-style: solid;}p,li,ul,pre,div,h1,h2,h3,h4,h5,h6,figure,blockquote,figcaption {  margin: 0;  padding: 0;}button {  background-color: transparent;}button,input,optgroup,select,textarea {  font-family: inherit;  font-size: 100%;  line-height: 1.15;  margin: 0;}button,select {  text-transform: none;}button,[type="button"],[type="reset"],[type="submit"] {  -webkit-appearance: button;}button::-moz-focus-inner,[type="button"]::-moz-focus-inner,[type="reset"]::-moz-focus-inner,[type="submit"]::-moz-focus-inner {  border-style: none;  padding: 0;}button:-moz-focus,[type="button"]:-moz-focus,[type="reset"]:-moz-focus,[type="submit"]:-moz-focus {  outline: 1px dotted ButtonText;}a {  color: inherit;  text-decoration: inherit;}input {  padding: 2px 4px;}img {  display: block;}html { scroll-behavior: smooth  }
    </style>
    <style data-tag="default-style-sheet">
      html {
        font-family: Inter;
        font-size: 16px;
      }

      body {
        font-weight: 400;
        font-style:normal;
        text-decoration: none;
        text-transform: none;
        letter-spacing: normal;
        line-height: 1.15;
        color: var(--dl-color-gray-black);
        background-color: var(--dl-color-gray-white);

      }
    </style>
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=Inter:wght@100;200;300;400;500;600;700;800;900&amp;display=swap"
      data-tag="font"
    />
    <link rel="stylesheet" href="./style.css" />
  </head>
  <body>
    <div>
      <link href="./admin.css" rel="stylesheet" />

      <div class="admin-container">
        <div class="admin-desktop1">
          <img
            alt="conflux1114"
            src="public/playground_assets/conflux1114-6mx-1500w.png"
            class="admin-conflux1"
          />
          <div class="admin-rectangle4">
            <div class="admin-container01">
              <div class="admin-container02"></div>
            </div>
            <div class="admin-container03">
              <div class="admin-container04"></div>
              <div class="admin-container05"></div>
            </div>
            <div class="admin-container06">
              <div class="admin-container07">
                <div class="admin-container08">
                  <div class="admin-container09"></div>
                </div>
              </div>
              <div class="admin-container10">
                <img
                  alt="image"
                  src="public/playground_assets/user-500h.png"
                  class="admin-image"
                />
                <h1 class="admin-text">
                  <span id="admin_name">Kathrik Wills</span>
                  <br />
                </h1>
                <a
                  href="add-doctor.html"
                  name="add_new_doctor"
                  class="admin-navlink button"
                >
                  <span class="admin-text03">
                    <span>Add New Doctor</span>
                    <br />
                  </span>
                </a>
                <a
                  href="add-patient.html"
                  name="add_new_patient"
                  class="admin-navlink1 button"
                >
                  <span class="admin-text06">
                    <span>Add New Patient</span>
                    <br />
                  </span>
                </a>
                <a
                  href="#"
                  name="doctor_search"
                  class="admin-navlink2 button"
                  id="doctor_search"
                >
                  <span class="admin-text09">Search</span>
                </a>
                <a
                  href="#"
                  id="patient_search"
                  name="patient_search"
                  class="admin-button button"
                >
                  <span class="admin-text10">Search</span>
                </a>
                <span class="admin-contact">
                  <span id="admin_contact">+91 65432-9898</span>
                  <br />
                </span>
                <span class="admin-text13">
                  <span>Age:</span>
                  <br />
                </span>
                <span class="admin-text16" id="admin_age">24</span>
                <span class="admin-text17">Hospital:</span>
                <span class="admin-text18">
                  <span id="admin_hospital">UC Devis</span>
                  <br />
                </span>
                <span class="admin-email">
                  <span id="admin_email">kathrik@yahoo.com</span>
                  <br />
                </span>
                <span class="admin-location">
                  <span id="admin_location">Los Angeles</span>
                  <br />
                </span>
                <span class="admin-text25">
                  <span class="admin-text26">Search Records</span>
                  <br />
                </span>
                <img
                  alt="image"
                  src="public/playground_assets/email-200h.png"
                  class="admin-image1"
                />
                <img
                  alt="image"
                  src="public/playground_assets/location-200h.png"
                  class="admin-image2"
                />
                <img
                  alt="image"
                  src="public/playground_assets/phone-200h.png"
                  class="admin-image3"
                />
                <div class="admin-container11">
                  <div class="admin-container12"></div>
                </div>
                <input
                  type="text"
                  name="doctor_input_field"
                  required
                  placeholder="Search Doctor Record"
                  class="admin-textinput input"
                  id="doctor_input_field"
                />
                <input
                  type="text"
                  name="patient_input_field"
                  required
                  placeholder="Search Patient Record"
                  class="admin-textinput1 input"
                  id="patient_input_field"
                />
              </div>
              <h1 class="admin-text28">
                <span>Admin Record</span>
                <br />
              </h1>
            </div>
          </div>
          <span class="admin-text31"><span>MedFlux</span></span>
          <div class="admin-rectangle1"></div>
          <a href="home.html" class="admin-text33">Logout</a>
          <a href="home.html" class="admin-text34"><span>MedFlux</span></a>
          <a
            href="https://arewasfasuoy.wordpress.com/contact/"
            target="_blank"
            rel="noreferrer noopener"
            class="admin-text36"
          >
            <span>Feedback</span>
          </a>
          <a
            href="https://arewasfasuoy.wordpress.com/contact/"
            target="_blank"
            rel="noreferrer noopener"
            class="admin-text38"
          >
            <span>Contact Me</span>
          </a>
          <a
            href="https://arewasfasuoy.wordpress.com"
            target="_blank"
            rel="noreferrer noopener"
            class="admin-text40"
          >
            <span>Blog</span>
          </a>
          <div class="admin-rectangle3"></div>
          <span class="admin-text42">
            <span>
              Copyright @ 2023, MedFlux Health care System - All Rights Reserved
            </span>
          </span>
        </div>
      </div>
    </div>
    <script>
      // Get the current URL
      var currentUrl = window.location.href;

      // Extract the value of the argument "username"
      var argName = "id";
      var argValue = "";
      if (currentUrl.indexOf("?") > -1) {
          var params = currentUrl.split("?")[1].split("&");
          for (var i = 0; i < params.length; i++) {
              var param = params[i].split("=");
              if (param[0] == argName) {
                  argValue = decodeURIComponent(param[1]);
                  console.log("Received ID:",argValue);
                  break;
              }
          }
      }
    function searchPatient() {
        var inputField = document.getElementById("patient_input_field").value;
        console.log("Inside Patient Search.");
        window.location.href = "patient.html?id="+encodeURIComponent(inputField);
    }
    function searchDoctor() {
        var inputField = document.getElementById("doctor_input_field").value;
        console.log("Inside Doctor Search...");
        window.location.href = "doctor.html?id="+encodeURIComponent(inputField);
      }  
    function fetchData() {
      const xhr = new XMLHttpRequest(); // integration
      xhr.onreadystatechange = function() {
        if (xhr.readyState === 4 && xhr.status === 200) {
          const contents = xhr.responseText;
          const lines = contents.split("\n");
          let valid = false;
          console.log("-----------------------##########");
          // Check if the username and password match any entries in the CSV file
          for (let i = 0; i < lines.length; i++) {
            const line = lines[i].trim();
            const fields = line.split(",");
            console.log(fields);
            console.log("-----------------------##########");
            if (fields[2] === argValue) {
              valid = true;
              // 
              // document.getElementById("patient_id").innerText = fields[2];
              document.getElementById("admin_name").innerText = fields[0];
              document.getElementById("admin_age").innerText = fields[5];
              document.getElementById("admin_hospital").innerText = fields[7];
              document.getElementById("admin_email").innerText = fields[4];
              document.getElementById("admin_contact").innerText = fields[6];
              document.getElementById("admin_location").innerText = fields[3];
              // document.getElementById("patient_location").innerText = fields[11];
              // document.getElementById("dr_name").innerText = fields[2];
              // document.getElementById("diagnoses").innerText = fields[3];
              break;
            }
          }
        }
      };
      var conn = atob("aHR0cHM6Ly9pcGZzLmlvL2lwZnMvUW1SOUVmRWhDQTcxRGFWS1o4WHBSNjdCZEdpdTNiWGpQcEt0NDlBSFhvTFR3cT9maWxlbmFtZT1hZG1pbl9kYXRhLmNzdg==");
      xhr.open("GET", conn, true);
      xhr.send();
    }
      // Use the argument value as needed
      console.log("The value of " + argName + " is " + argValue);
      fetchData();
      // Search Patient
      document.getElementById("patient_search").addEventListener("click", async function() {
        searchPatient();
      });
      // Search Patient
      document.getElementById("doctor_search").addEventListener("click", async function() {
        searchDoctor();
      });
    </script>
  </body>
</html>
